{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nexport const counterSlice = createSlice({\n  name: 'counter',\n  initialState: {\n    posts: [],\n    comment: {\n      postId: undefined,\n      comments: []\n    }\n  },\n  reducers: {\n    add: (state, action) => {\n      state.posts = action.payload;\n    },\n    remove: (state, action) => {\n      state.posts = state.posts.filter(p => p.id !== action.payload);\n    },\n    edit: (state, action) => {\n      const post = state.posts.find(p => p.id === action.payload.id);\n\n      if (post === undefined) {\n        return;\n      }\n\n      post.title = action.payload.title;\n      post.body = action.payload.body;\n    },\n    addComments: (state, action) => {\n      state.comment.postId = state.posts.find(p => p.id === action.payload.postId).title;\n      state.comment.comments = action.payload.comments;\n    }\n  }\n});\nexport const {\n  add,\n  remove,\n  edit,\n  addComments\n} = counterSlice.actions;\nexport const fetchPosts = () => async dispatch => {\n  const res = await fetch(\"https://jsonplaceholder.typicode.com/posts\");\n  const data = await res.json();\n\n  if (res.status === 200) {\n    dispatch(add(data));\n  }\n};\nexport const fetchComments = id => async dispatch => {\n  const res = await fetch(`https://jsonplaceholder.typicode.com/posts/${id}/comments`);\n  const data = await res.json();\n\n  if (res.status === 200) {\n    dispatch(addComments({\n      postId: id,\n      comments: data\n    }));\n  }\n};\nexport const editPost = (id, title, body) => dispatch => {\n  dispatch(edit({\n    id,\n    title,\n    body\n  }));\n}; // The function below is called a selector and allows us to select a value from\n// the state. Selectors can also be defined inline where they're used instead of\n// in the slice file. For example: `useSelector((state) => state.counter.value)`\n\nexport const selectPosts = state => state.counter.posts;\nexport const selectComments = state => state.counter.comment;\nexport default counterSlice.reducer;","map":{"version":3,"sources":["/Users/gowridatta/Desktop/gowri-stryve/src/features/counter/counterSlice.js"],"names":["createSlice","counterSlice","name","initialState","posts","comment","postId","undefined","comments","reducers","add","state","action","payload","remove","filter","p","id","edit","post","find","title","body","addComments","actions","fetchPosts","dispatch","res","fetch","data","json","status","fetchComments","editPost","selectPosts","counter","selectComments","reducer"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AAEA,OAAO,MAAMC,YAAY,GAAGD,WAAW,CAAC;AACtCE,EAAAA,IAAI,EAAE,SADgC;AAEtCC,EAAAA,YAAY,EAAE;AACZC,IAAAA,KAAK,EAAE,EADK;AAEZC,IAAAA,OAAO,EAAE;AACPC,MAAAA,MAAM,EAAEC,SADD;AAEPC,MAAAA,QAAQ,EAAE;AAFH;AAFG,GAFwB;AAStCC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,GAAG,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACtBD,MAAAA,KAAK,CAACP,KAAN,GAAcQ,MAAM,CAACC,OAArB;AACD,KAHO;AAIRC,IAAAA,MAAM,EAAE,CAACH,KAAD,EAAQC,MAAR,KAAmB;AACzBD,MAAAA,KAAK,CAACP,KAAN,GAAcO,KAAK,CAACP,KAAN,CAAYW,MAAZ,CAAmBC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACC,OAAxC,CAAd;AACD,KANO;AAORK,IAAAA,IAAI,EAAE,CAACP,KAAD,EAAQC,MAAR,KAAmB;AACvB,YAAMO,IAAI,GAAGR,KAAK,CAACP,KAAN,CAAYgB,IAAZ,CAAiBJ,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACC,OAAP,CAAeI,EAA9C,CAAb;;AACA,UAAIE,IAAI,KAAKZ,SAAb,EAAwB;AACtB;AACD;;AAEDY,MAAAA,IAAI,CAACE,KAAL,GAAaT,MAAM,CAACC,OAAP,CAAeQ,KAA5B;AACAF,MAAAA,IAAI,CAACG,IAAL,GAAYV,MAAM,CAACC,OAAP,CAAeS,IAA3B;AACD,KAfO;AAgBRC,IAAAA,WAAW,EAAE,CAACZ,KAAD,EAAQC,MAAR,KAAmB;AAC9BD,MAAAA,KAAK,CAACN,OAAN,CAAcC,MAAd,GAAuBK,KAAK,CAACP,KAAN,CAAYgB,IAAZ,CAAiBJ,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACC,OAAP,CAAeP,MAA9C,EAAsDe,KAA7E;AACAV,MAAAA,KAAK,CAACN,OAAN,CAAcG,QAAd,GAAyBI,MAAM,CAACC,OAAP,CAAeL,QAAxC;AACD;AAnBO;AAT4B,CAAD,CAAhC;AAgCP,OAAO,MAAM;AAAEE,EAAAA,GAAF;AAAOI,EAAAA,MAAP;AAAeI,EAAAA,IAAf;AAAqBK,EAAAA;AAArB,IAAqCtB,YAAY,CAACuB,OAAxD;AAEP,OAAO,MAAMC,UAAU,GAAG,MAAM,MAAMC,QAAN,IAAkB;AAChD,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,4CAAD,CAAvB;AACA,QAAMC,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;;AACA,MAAIH,GAAG,CAACI,MAAJ,KAAe,GAAnB,EAAwB;AACtBL,IAAAA,QAAQ,CAAChB,GAAG,CAACmB,IAAD,CAAJ,CAAR;AACD;AACF,CANM;AAQP,OAAO,MAAMG,aAAa,GAAIf,EAAD,IAAQ,MAAMS,QAAN,IAAkB;AACrD,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,8CAA6CX,EAAG,WAAlD,CAAvB;AACA,QAAMY,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;;AACA,MAAIH,GAAG,CAACI,MAAJ,KAAe,GAAnB,EAAwB;AACtBL,IAAAA,QAAQ,CAACH,WAAW,CAAC;AAACjB,MAAAA,MAAM,EAAEW,EAAT;AAAaT,MAAAA,QAAQ,EAAEqB;AAAvB,KAAD,CAAZ,CAAR;AACD;AACF,CANM;AAQP,OAAO,MAAMI,QAAQ,GAAG,CAAChB,EAAD,EAAKI,KAAL,EAAYC,IAAZ,KAAqBI,QAAQ,IAAI;AACvDA,EAAAA,QAAQ,CAACR,IAAI,CAAC;AAACD,IAAAA,EAAD;AAAKI,IAAAA,KAAL;AAAYC,IAAAA;AAAZ,GAAD,CAAL,CAAR;AACD,CAFM,C,CAIP;AACA;AACA;;AACA,OAAO,MAAMY,WAAW,GAAGvB,KAAK,IAAIA,KAAK,CAACwB,OAAN,CAAc/B,KAA3C;AACP,OAAO,MAAMgC,cAAc,GAAGzB,KAAK,IAAIA,KAAK,CAACwB,OAAN,CAAc9B,OAA9C;AAEP,eAAeJ,YAAY,CAACoC,OAA5B","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const counterSlice = createSlice({\r\n  name: 'counter',\r\n  initialState: {\r\n    posts: [],\r\n    comment: {\r\n      postId: undefined,\r\n      comments: []\r\n    }\r\n  },\r\n  reducers: {\r\n    add: (state, action) => {\r\n      state.posts = action.payload\r\n    },\r\n    remove: (state, action) => {\r\n      state.posts = state.posts.filter(p => p.id !== action.payload);\r\n    },\r\n    edit: (state, action) => {\r\n      const post = state.posts.find(p => p.id === action.payload.id)\r\n      if (post === undefined) {\r\n        return;\r\n      }\r\n\r\n      post.title = action.payload.title;\r\n      post.body = action.payload.body;\r\n    },\r\n    addComments: (state, action) => {\r\n      state.comment.postId = state.posts.find(p => p.id === action.payload.postId).title\r\n      state.comment.comments = action.payload.comments;\r\n    }\r\n  },\r\n});\r\n\r\nexport const { add, remove, edit, addComments } = counterSlice.actions;\r\n\r\nexport const fetchPosts = () => async dispatch => {\r\n  const res = await fetch(\"https://jsonplaceholder.typicode.com/posts\");\r\n  const data = await res.json();\r\n  if (res.status === 200) {\r\n    dispatch(add(data))\r\n  }\r\n};\r\n\r\nexport const fetchComments = (id) => async dispatch => {\r\n  const res = await fetch(`https://jsonplaceholder.typicode.com/posts/${id}/comments`);\r\n  const data = await res.json();\r\n  if (res.status === 200) {\r\n    dispatch(addComments({postId: id, comments: data}));\r\n  }\r\n};\r\n\r\nexport const editPost = (id, title, body) => dispatch => {\r\n  dispatch(edit({id, title, body}));\r\n};\r\n\r\n// The function below is called a selector and allows us to select a value from\r\n// the state. Selectors can also be defined inline where they're used instead of\r\n// in the slice file. For example: `useSelector((state) => state.counter.value)`\r\nexport const selectPosts = state => state.counter.posts;\r\nexport const selectComments = state => state.counter.comment;\r\n\r\nexport default counterSlice.reducer;\r\n"]},"metadata":{},"sourceType":"module"}